<div class="cadastrar-cliente-container">
  <div class="header-section">
    <h2>{{ obterTituloTela() }}</h2>
    <div class="breadcrumb">
      <a href="/clientes">Clientes</a> > {{ obterTituloTela() }}
    </div>
  </div>

  <div *ngIf="carregando" class="loading-message">
    Carregando dados do cliente...
  </div>

  <form [formGroup]="formularioCliente" (ngSubmit)="onSubmit()" class="cliente-form" *ngIf="!carregando">
    <div class="form-section">
      <h3>Dados Pessoais</h3>
      
      <div class="form-row">
        <div class="form-group full-width">
          <label for="nomeCompleto">Nome Completo *</label>
          <input 
            type="text" 
            id="nomeCompleto" 
            formControlName="nomeCompleto"
            placeholder="Ex: Maria das Dores Silva"
            [class.error]="campoTemErro('nomeCompleto')"
          >
          <div class="error-message" *ngIf="campoTemErro('nomeCompleto')">
            {{ obterMensagemErro('nomeCompleto') }}
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="estadoCivil">Estado Civil *</label>
          <select 
            id="estadoCivil" 
            formControlName="estadoCivil"
            [class.error]="campoTemErro('estadoCivil')"
          >
            <option value="">Selecione...</option>
            <option *ngFor="let estado of estadosCivis" [value]="estado">{{ estado }}</option>
          </select>
          <div class="error-message" *ngIf="campoTemErro('estadoCivil')">
            {{ obterMensagemErro('estadoCivil') }}
          </div>
        </div>

        <div class="form-group">
          <label for="profissao">Profissão *</label>
          <input 
            type="text" 
            id="profissao" 
            formControlName="profissao"
            placeholder="Ex: Trabalhador Rural"
            [class.error]="campoTemErro('profissao')"
          >
          <div class="error-message" *ngIf="campoTemErro('profissao')">
            {{ obterMensagemErro('profissao') }}
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="dataNascimento">Data de Nascimento *</label>
          <input 
            type="date" 
            id="dataNascimento" 
            formControlName="dataNascimento"
            [class.error]="campoTemErro('dataNascimento')"
          >
          <div class="error-message" *ngIf="campoTemErro('dataNascimento')">
            {{ obterMensagemErro('dataNascimento') }}
          </div>
        </div>

        <div class="form-group">
          <label for="cpf">CPF *</label>
          <input 
            type="text" 
            id="cpf" 
            formControlName="cpf"
            placeholder="000.000.000-00"
            (input)="onCPFChange($event)"
            maxlength="14"
            [class.error]="campoTemErro('cpf')"
          >
          <div class="error-message" *ngIf="campoTemErro('cpf')">
            {{ obterMensagemErro('cpf') }}
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="rg">RG *</label>
          <input 
            type="text" 
            id="rg" 
            formControlName="rg"
            placeholder="Ex: 1.234.567"
            [class.error]="campoTemErro('rg')"
          >
          <div class="error-message" *ngIf="campoTemErro('rg')">
            {{ obterMensagemErro('rg') }}
          </div>
        </div>

        <div class="form-group">
          <label for="orgaoExpedidor">Órgão Expedidor *</label>
          <input 
            type="text" 
            id="orgaoExpedidor" 
            formControlName="orgaoExpedidor"
            placeholder="Ex: SSP/DF"
            [class.error]="campoTemErro('orgaoExpedidor')"
          >
          <div class="error-message" *ngIf="campoTemErro('orgaoExpedidor')">
            {{ obterMensagemErro('orgaoExpedidor') }}
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="nit">NIT *</label>
          <input 
            type="text" 
            id="nit" 
            formControlName="nit"
            placeholder="Ex: 123.45678.90-1"
            [class.error]="campoTemErro('nit')"
          >
          <div class="error-message" *ngIf="campoTemErro('nit')">
            {{ obterMensagemErro('nit') }}
          </div>
        </div>

        <div class="form-group">
          <label for="numeroBeneficio">Número de Benefício *</label>
          <input 
            type="text" 
            id="numeroBeneficio" 
            formControlName="numeroBeneficio"
            placeholder="Ex: NB/ES – 123.456.789-0"
            [class.error]="campoTemErro('numeroBeneficio')"
          >
          <div class="error-message" *ngIf="campoTemErro('numeroBeneficio')">
            {{ obterMensagemErro('numeroBeneficio') }}
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Filiação</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="nomeMae">Nome da Mãe *</label>
          <input 
            type="text" 
            id="nomeMae" 
            formControlName="nomeMae"
            placeholder="Nome completo da mãe"
            [class.error]="campoTemErro('nomeMae')"
          >
          <div class="error-message" *ngIf="campoTemErro('nomeMae')">
            {{ obterMensagemErro('nomeMae') }}
          </div>
        </div>

        <div class="form-group">
          <label for="nomePai">Nome do Pai *</label>
          <input 
            type="text" 
            id="nomePai" 
            formControlName="nomePai"
            placeholder="Nome completo do pai"
            [class.error]="campoTemErro('nomePai')"
          >
          <div class="error-message" *ngIf="campoTemErro('nomePai')">
            {{ obterMensagemErro('nomePai') }}
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>Endereço</h3>
      
      <div class="form-row">
        <div class="form-group full-width">
          <label for="endereco">Endereço *</label>
          <input 
            type="text" 
            id="endereco" 
            formControlName="endereco"
            placeholder="Rua, número"
            [class.error]="campoTemErro('endereco')"
          >
          <div class="error-message" *ngIf="campoTemErro('endereco')">
            {{ obterMensagemErro('endereco') }}
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="bairro">Bairro *</label>
          <input 
            type="text" 
            id="bairro" 
            formControlName="bairro"
            placeholder="Bairro de residência"
            [class.error]="campoTemErro('bairro')"
          >
          <div class="error-message" *ngIf="campoTemErro('bairro')">
            {{ obterMensagemErro('bairro') }}
          </div>
        </div>

        <div class="form-group">
          <label for="cidade">Cidade *</label>
          <input 
            type="text" 
            id="cidade" 
            formControlName="cidade"
            placeholder="Cidade de residência"
            [class.error]="campoTemErro('cidade')"
          >
          <div class="error-message" *ngIf="campoTemErro('cidade')">
            {{ obterMensagemErro('cidade') }}
          </div>
        </div>

        <div class="form-group small">
          <label for="uf">UF *</label>
          <input 
            type="text" 
            id="uf" 
            formControlName="uf"
            placeholder="Ex: DF"
            maxlength="2"
            (input)="onUFChange($event)"
            [class.error]="campoTemErro('uf')"
          >
          <div class="error-message" *ngIf="campoTemErro('uf')">
            {{ obterMensagemErro('uf') }}
          </div>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button 
        type="button" 
        (click)="cancelar()" 
        class="btn-secondary"
        [disabled]="salvando"
      >
        Cancelar
      </button>
      
      <button 
        type="submit" 
        class="btn-primary"
        [disabled]="salvando"
      >
        <span *ngIf="salvando">Salvando...</span>
        <span *ngIf="!salvando">{{ obterTextoBotao() }}</span>
      </button>
    </div>
  </form>
</div>